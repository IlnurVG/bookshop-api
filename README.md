# Bookshop API

RESTful API сервис для книжного магазина, реализованный на Go 1.24.

## Описание проекта

Bookshop API предоставляет бэкенд для книжного магазина со следующим функционалом:
- Просмотр и фильтрация книг по категориям
- Регистрация и аутентификация пользователей
- Управление корзиной покупок
- Оформление заказов
- Административные функции (CRUD для книг и категорий)

## Уровни доступа

1. **Анонимные пользователи**: просмотр и фильтрация книг
2. **Авторизованные пользователи**: добавление книг в корзину, оформление заказа
3. **Администраторы**: управление каталогом (CRUD для книг и категорий)

## Технологический стек

- Go 1.24
- Echo Framework
- PostgreSQL (доступ через PGX)
- Redis (для управления корзиной и блокировками)
- JWT аутентификация
- Zap для логирования
- Viper для конфигурации

## Установка и запуск

### Требования
- Go 1.24+
- Docker и Docker Compose
- PostgreSQL 15+
- Redis 7+

### Локальный запуск

1. Клонировать репозиторий:
```
git clone https://github.com/bookshop/api.git
cd api
```

2. Запустить зависимости через Docker Compose:
```
docker-compose up -d postgres redis
```

3. Запустить миграции:
```
go run cmd/migration/main.go
```

4. Запустить сервер:
```
go run cmd/api/main.go
```

API будет доступен по адресу `http://localhost:8080`.

## Структура проекта

```
bookshop/
├── cmd/
│   └── api/               # Точка входа приложения
├── config/                # Конфигурация
├── internal/
│   ├── app/               # Сервисы приложения
│   ├── domain/            # Доменная модель
│   ├── handlers/          # API обработчики
│   ├── middleware/        # Промежуточные обработчики
│   ├── repository/        # Слой доступа к данным
│   └── server/            # Настройка HTTP сервера
├── migrations/            # Миграции БД
├── pkg/                   # Общие пакеты
└── scripts/               # Вспомогательные скрипты
```

## API Документация

REST API документировано с использованием Swagger и доступно по адресу `/swagger/index.html`.

## Лицензия

MIT
